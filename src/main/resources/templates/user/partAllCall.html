<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>HitechAutoworks</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="/assets/img/favicon.png" rel="icon">
    <link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
          rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/boxicons@2.1.2/css/boxicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.snow.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.bubble.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@14.0.1/simple-datatables.min.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="/assets/css/style.css" rel="stylesheet">
    <style>
        tr:hover {
            background-color: #f5f5f5;
            cursor: pointer;
        }
    </style>
</head>
<body>
<div th:replace="~{common/header.html}"></div>
<div th:replace="~{common/sidebar.html}"></div>


<!-- 입력 내용 -->
<main id="main" class="main">

    <div class="pagetitle">
        <h1>부품 정보 조회</h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/user/mainpage">Home</a></li>
                <li class="breadcrumb-item">admin</li>
                <li class="breadcrumb-item active">부품 정보 조회</li>
            </ol>
        </nav>
    </div>
    <form action="/user/partAllCall" method="post">
        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="부품이름 입력" name="partName"
                   aria-label="Recipient's username" aria-describedby="button-addon2"> &nbsp &nbsp&nbsp&nbsp
            <input type="text" class="form-control" placeholder="부품번호 입력" name="partCode"
                   aria-label="Recipient's username" aria-describedby="button-addon2">&nbsp&nbsp
            <button class="btn btn-outline-secondary" type="submit" id="button-addon2">조회</button>
            &nbsp&nbsp
    </form>
    <button class="btn btn-outline-secondary" type="button" id="button-addon3" data-bs-toggle="modal"
            data-bs-target="#partRegisterModal">부품등록
    </button>
    </div>

    <table class="table table-bordered">
        <thead class="table-light">
        <tr>
            <th scope="col">부품번호</th>
            <th scope="col">부품이름</th>
            <th scope="col">부품수량</th>
            <th scope="col">부품가격</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="partList : ${partList}" th:onclick ="'partDetail(\'' + ${partList.partCode} + '\')'">
            <th scope="row" th:text="${partList.partCode}"></th>
            <td th:text="${partList.partName}"></td>
            <td th:text="${partList.partstock}"></td>
            <td th:text="${partList.partPrice}"></td>
        </tr>

        </tbody>
    </table>

</main>
<form action="/user/registpart" method="post">

    <div class="modal fade" id="partRegisterModal" tabindex="-1" aria-labelledby="partRegisterModalLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="partRegisterModalLabel">부품 등록</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="partName" class="form-label">부품 이름</label>
                            <input type="text" class="form-control" name="partName" id="partName"
                                   placeholder="부품 이름을 입력하세요">
                        </div>
                        <div class="mb-3">
                            <label for="partQuantity" class="form-label">부품 수량</label>
                            <input type="number" class="form-control" name="partstock" id="partQuantity"
                                   placeholder="부품 수량을 입력하세요">
                        </div>
                        <div class="mb-3">
                            <label for="partPrice" class="form-label">부품 가격</label>
                            <input type="number" class="form-control" name="partPrice" id="partPrice"
                                   placeholder="부품 가격을 입력하세요">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                    <button type="submit" class="btn btn-outline-secondary">저장</button>
                </div>
            </div>
        </div>
    </div>
</form>
    <script>
        function partDetail(partCode) {
            location.href = '/user/partdetail?partCode=' + partCode;
        }
    </script>

<div th:replace="~{common/footer.html}"></div>
</body>
</html>